     1                                           ;文件说明：用户程序 
     2                                           ;创建日期：2022-6-6
     3                                  
     4                                  ;===============================================================================
     5                                  SECTION header vstart=0
     6                                  
     7 00000000 [00000000]                       program_length   dd program_end          ;程序总长度#0x00
     8 00000004 [00000000]                       entry_point      dd start                ;程序入口点#0x04
     9                                  header_end:
    10                                    
    11                                  ;===============================================================================
    12                                  SECTION data vfollows=header
    13                                  
    14 00000000 5B5553455220544153-              message_1        db  '[USER TASK]: ,,,,,,,,,,,,,,,,,,,,,,,',0x0d,0x0a,0
    14 00000009 4B5D3A202C2C2C2C2C-
    14 00000012 2C2C2C2C2C2C2C2C2C-
    14 0000001B 2C2C2C2C2C2C2C2C2C-
    14 00000024 0D0A00             
    15                                  
    16 00000027 00<rep 5000h>                    reserved  times 4096*5 db 0                ;保留一个空白区，以演示分页
    17                                  data_end:
    18                                  
    19                                  ;===============================================================================
    20                                        [bits 32]
    21                                  ;===============================================================================
    22                                  SECTION code vfollows=data
    23                                  start:
    24                                           ;在当前任务内的虚拟地址空间里分配内存
    25 00000000 B805000000                       mov eax, 5
    26 00000005 B980000000                       mov ecx, 128                               ;请求分配128个字节
    27 0000000A CD88                             int 0x88                                   ;执行系统调用
    28 0000000C 89CB                             mov ebx, ecx                               ;为后面打印字符串准备参数
    29                                  
    30                                           ;复制字符串到分配的内存中
    31 0000000E BE[00000000]                     mov esi, message_1
    32 00000013 89CF                             mov edi, ecx
    33 00000015 B927000000                       mov ecx, reserved-message_1
    34 0000001A FC                               cld
    35 0000001B F3A4                             repe movsb
    36                                  
    37                                  .show:
    38 0000001D B800000000                       mov eax, 0
    39 00000022 CD88                             int 0x88
    40 00000024 EBF7                             jmp .show
    41                                  
    42                                  code_end:
    43                                  
    44                                  ;-------------------------------------------------------------------------------
    45                                  SECTION trail
    46                                  ;-------------------------------------------------------------------------------
    47                                  program_end:
